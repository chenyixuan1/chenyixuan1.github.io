---
layout:     post
title:      Swift 4 新特性
subtitle:   很高兴 Swift 4 不再是一门新语言了😅
date:       2017-09-11
author:     BY
header-img: img/post-bg-ios10.jpg
catalog: true
tags:
    - iOS
    - Swift
---


### private 权限扩大

在 Swift 4 中，`extension` 可以读取 `private` 变量了。

Swift 3 中，如果将主体函数的变量定义为 `private`，则其 `extension` 无法读取此变量，必须将其改为 `filePrivate` 才可以。

### 单向区间

单向区间是一个新的类型，主要分两种：确定上限和确定下限的区间。直接用字面量定义大概可以写成 `…6`和 `2…`

例如

```swift
let intArr = [0, 1, 2, 3, 4]

let arr1 = intArr[...3] 	// [0, 1, 2, 3]
let arr2 = intArr[3...] 	// [3, 4]
```

### 字符串改动


#### String 操作简化了

`String` 许多要通过 `.characters` 进行的操作，可以直接用 String 进行操作了。

例如：

```swift
let greeting = "Hello, 😜!"
// No need to drill down to .characters
let n = greeting.count
let endOfSentence = greeting.index(of: "!")!

```

#### 新增 Substring 类型


swift 4 为字符串片段新增了一个叫 `Substring` 的类型。

当你创建一个字符串的片段时，会产生一个 `Substring` 实例。`Substring` 与 `String` 用法相同， 因为子串和原字符串共享内存，所以对子串的操作快速而且高效。

```swift
let greeting = "Hi there! It's nice to meet you! 👋"
let endOfSentence = greeting.index(of: "!")! 

// 产生 Substring 实例
let firstSentence = greeting[...endOfSentence]
// firstSentence == "Hi there!"

// `Substring` 与 `String` 用法相同
let shoutingSentence = firstSentence.uppercased()
// shoutingSentence == "HI THERE!" 
```

但是要注意一个 `Substring` 保留从其生成的完整的 `String`值。 当您传递一个看似很小的 `Substring` 时，这可能导致意外的高内存开销。所以使用 `Substring`时，最好转化为 `String`.

```swift
let newString = String(substring)
```


#### 换行可以不用 `\n`了！
#### <center><font size=5>**Some Common Senses of Asthma**</font></center></br>
<center>![](http://peu2d4tco.bkt.clouddn.com/113231.jpg)</center>
<center><font size=4>**What is asthma?**</font></center>
<font size=3>Asthma is the result of chronic inflammation of the conducting zone of the airways (most especially the bronchi and bronchioles), which subsequently results in increased contractability of the surrounding smooth muscles. It is characterized by variable and recurring symptoms, reversible airflow obstruction, and bronchospasm. Symptoms include episodes of wheezing, coughing, chest tightness, and shortness of breath. These episodes may occur a few times a day or a few times per week. Depending on the person, they may become worse at night or with exercise.</font></br>
 </br>
<center><font size=4>**What are the symptoms of asthma?**</font></center>
<font size=3>Asthma is characterized by recurrent episodes of wheezing, shortness of breath, chest tightness, and coughing. Sputum may be produced from the lung by coughing but is often hard to bring up.  During recovery from an attack, it may appear pus-like due to high levels of white blood cells called eosinophils. Symptoms are usually worse at night and in the early morning or in response to exercise or cold air. Some people with asthma rarely experience symptoms, usually in response to triggers, whereas others may have marked and persistent symptoms.</font></br>
 </br>
<center><font size=4>**What are the main causes of asthma?**</font></center>
<font size=3><font color=blue>**1. Genetic**</font>
Family history is a risk factor for asthma, with many different genes being implicated. For example, if one identical twin is affected, the probability of the other having the disease is approximately 25%. Or if your parents or close relatives have asthma, you are more at risk of developing asthma.</font></br>
<font size=3><font color=blue>**2. Allergenic & Non-Allergenic**</font>
Some allergenic factors that can lead to exacerbation of asthma include dust mites, animal dander (especially cat and dog hair), cockroach allergens and mold. Perfumes are a common cause of acute attacks in women and children. Both viral and bacterial infections of the upper respiratory tract can worsen the disease.</br>
There are also some non-allergenic factors can lead to asthma include psychological stress, exercise, virus, cold air, air pollution etc.</font></br>
<font size=3><font color=blue>**3. Occupational**</font>
Some people are exposed to some certain chemicals, for example formaldehyde, phthalates, acetaminophen, which may be a trigger for asthma as well.</font></br>
<center >![](http://peu2d4tco.bkt.clouddn.com/animal%20dander.jpg)</center>
 </br>
<center><font size=4>**How to control asthma long-termly at home?**</font></center>
<font size=3>1. Establish an effective communication channel with your doctor. Consult and follow the doctor's advice.</font></br>
 <font size=3>2. Avoidance of triggers and lifestyle modification are very important for improving control and preventing attacks.</font></br>
  <font size=3>3. Do a good job in self-management. Completely record the peak expiratory flow rate by your self or keep asthma diary.</font></br>
 </br>
<center><font size=4>**How does the asthma incidence look like?**</font></center>
<font size=3>Asthma is a world-recognized medical problem, it has been listed as one of the four persistent ailments by World Health Organization. It caused about 397,100 deaths in 2015 alone. One study showed that the illness of more than 70% of asthma patients has not been effectively controlled. It means they have to face the risks of serious asthma attack and long-term lung damage.</font></br>
<font size=3>Actually most of the asthma patients can keep their illness under good control and enjoy the life through education, Avoidance of triggers and correct medication.</font></br>
<center>![](http://peu2d4tco.bkt.clouddn.com/%E9%A2%98-1.jpg)</center>
 </br>
<center><font size=4>**Why does asthma often occur at night?**</font></center>
<font size=3>The hormone level in our body will drop at night, the inflammatory cell infiltration in respiratory tract will enhance and inflammation-causing substances will increase. This will lead to an intensified asthma symptoms. Besides, the contact with allergic factors or a poor control of asthma will increase the symptoms as well. In oder to avoid asthma occurrence at night, you need to use medications long-termly.</font></br>
 </br>
<center><font size=4>**Why do I have asthma attack during exercise?**</font></center>
<font size=3>There is a term called the exercise-induced asthma, which means the acute airway stenosis and increased airway resistance after intense exercise. 90% of asthma patients will experience exercise-induced asthma, specifically teenagers. However, it doesn't mean that asthma patients are hopeless at sport.</font></br>
<font size=3>If asthma limits your athletic ability, that's because your illness is not under good control, and you need to see the doctor. All the asthma patients should consult their doctors, before they plan to start a sport.</font></br>
<center>![](http://peu2d4tco.bkt.clouddn.com/sport.jpg)</center>
<center>![](http://peu2d4tco.bkt.clouddn.com/share.jpg)</center>
<center>![](http://peu2d4tco.bkt.clouddn.com/facebook%20logo.jpg) <font size=3>[www.facebook.com/yirdoc/](http://www.facebook.com/yirdoc/ "www.facebook.com/yirdoc/")</font></center>
<center>![](http://peu2d4tco.bkt.clouddn.com/twitter%20logo.jpg) <font size=3>[twitter.com/yirdoc](http://twitter.com/yirdoc "twitter.com/yirdoc")</font></center>
<center>![](http://peu2d4tco.bkt.clouddn.com/linkedin%20logo.jpg) <font size=3>[www.linkedin.com/company/yirdoc/](http://www.linkedin.com/company/yirdoc/ "www.linkedin.com/company/yirdoc/")</font></center>